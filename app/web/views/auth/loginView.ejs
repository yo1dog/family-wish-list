<%
callbackQueryString = data.callbackUrl? `?callbackUrl=${encodeURIComponent(data.callbackUrl)}` : ''
%>

<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('../partials/head') %>
  <title>FWL / Login</title>
</head>

<%- include('../partials/header') %>

<p>
  Code-named "Family Wish List" (FWL for short), this site aims to solve the problem of duplicate gifts and scattered wish list related communication.
</p>

<h2>Login</h2>

<form name="loginForm" method="post" action="/login<%= callbackQueryString %>">
  <table>
    <tr>
      <td><label for="email">Email:</label></td>
      <td><input type="email" name="email" required value="<%= data.email %>" /></td>
    </tr>
    <tr>
      <td><label for="password">Password:</label></td>
      <td>
        <input type="password" name="password" required />
        <a href="/resetPassword<%= callbackQueryString %>">Forgot?</a><br>
      </td>
    </tr>
  </table>
  
  <input type="submit" value="Login" /><br>
  <span id="formErrorMessage"><%= data.formErrorMessage %></span><br>
  <br>
  <a href="/register<%= callbackQueryString %>">Register</a>
</form>

<%- include('../partials/footer') %>